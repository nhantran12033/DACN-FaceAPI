<form
  *ngIf="!isPasswordReset; else passwordResetTemplate"
  [formGroup]="form"
  [mapErrorsFn]="mapErrorsFn"
  (ngSubmit)="onSubmit()"
  validateOnSubmit
>
  <p>{{ 'AbpAccount::ResetPassword_Information' | abpLocalization }}</p>
  <div class="mb-3 d-flex flex-column">
    <label for="input-password" class="form-label">
      {{ 'AbpAccount::Password' | abpLocalization }}    
      <span> * </span>
    </label>
    <input type="password" id="input-password" class="form-control" formControlName="password" (keyup)="validatePassword()"/>
    <abp-password-complexity-indicator [progressBar]="progressBar"></abp-password-complexity-indicator>
    <div *ngIf="progressBar?.width > 0" class="d-flex align-items-center order-2 mt-1" style="font-weight: 500;">
      {{'AbpAccount::Strength' | abpLocalization}}&nbsp;
      <span [style.color]="progressBar?.bgColor">{{'AbpAccount::' + progressBar?.text | abpLocalization}}</span>
    </div>
  </div>
  <div class="mb-3">
    <label for="input-confirm-password" class="form-label">{{ 'AbpAccount::ConfirmPassword' | abpLocalization }}</label>
    <span> * </span>
    <input
      type="password"
      id="input-confirm-password"
      class="form-control"
      formControlName="confirmPassword"
    />
  </div>
  <button class="me-2 btn btn-secondary" type="button">
    {{ 'AbpAccount::Cancel' | abpLocalization }}
  </button>
  <abp-button buttonClass="me-2 btn btn-primary" [loading]="inProgress"  buttonType="submit">
    {{ 'AbpAccount::Submit' | abpLocalization }}
  </abp-button>
</form>

<ng-template #passwordResetTemplate>
  <p>
    {{ 'AbpAccount::YourPasswordIsSuccessfullyReset' | abpLocalization }}
  </p>

  <a routerLink="/account/login">
    <button class="d-block mt-2 mb-3 btn btn-primary">
      {{ 'AbpAccount::BackToLogin' | abpLocalization }}
    </button>
  </a>
</ng-template>
