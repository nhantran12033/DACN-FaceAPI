<form [formGroup]="form" (ngSubmit)="onSubmit()" [mapErrorsFn]="mapErrorsFn" validateOnSubmit>
  <div class="mb-3">
    <label class="form-label" for="current-password">
      {{'AbpIdentity::DisplayName:CurrentPassword' | abpLocalization}}
      <span> * </span>
    </label>
    <abp-password
      inputId="current-password"
      formControlName="currentPassword">
    </abp-password>
  </div>
  <div class="mb-3 d-flex flex-column">
    <label class="form-label" for="new-password">
      {{'AbpIdentity::DisplayName:NewPassword' | abpLocalization}}
      <span> * </span>
    </label>
    <abp-password
      inputId="new-password"
      formControlName="newPassword"
      (keyup)="validatePassword()">
    </abp-password>
    <abp-password-complexity-indicator [progressBar]="progressBar"></abp-password-complexity-indicator>
    <div *ngIf="progressBar?.width > 0" class="d-flex align-items-center order-2 mt-1" style="font-weight: 500;">
      {{'AbpAccount::Strength' | abpLocalization}}&nbsp;
      <span [style.color]="progressBar?.bgColor">{{'AbpAccount::' + progressBar?.text | abpLocalization}}</span>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="confirm-new-password">
      {{'AbpIdentity::DisplayName:NewPasswordConfirm' | abpLocalization}}
      <span> * </span>
    </label>
    <abp-password
      inputId="confirm-new-password"
      formControlName="repeatNewPassword">
    </abp-password>
  </div>
  <abp-button
    class="d-grid"
    iconClass="fa fa-check"
    buttonClass="btn btn-primary color-white"
    buttonType="submit"
    >
    {{ 'AbpIdentity::Submit' | abpLocalization }}
  </abp-button
  >
</form>
